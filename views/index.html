<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Facebook Auto Comment Tool</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#2563eb">
  <link rel="stylesheet" href="/style.css" />

  <style>
    /* üåó THEME VARIABLES */
    :root {
      --primary: #1877f2;
      --bg: #0b0f13;
      --card: #11161c;
      --text: #e8f0fe;
      --muted: #9fb3c8;
      --green: #22c55e;
      --yellow: #eab308;
      --red: #ef4444;
    }
    body.light { --bg:#f6f8fa; --card:#ffffff; --text:#1a1d21; --muted:#666f7a; }
    body.dark  { --bg:#0b0f13; --card:#11161c; --text:#e8f0fe; --muted:#9fb3c8; }

    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: var(--bg);
      color: var(--text);
      transition: background .3s, color .3s;
    }

    /* ‚úÖ HEADER */
    .app-header {
      display: flex; flex-direction: column; align-items: center; text-align: center;
      position: relative; padding: 22px 12px 16px;
      background: linear-gradient(180deg, #18202b, #0b0f13);
    }
    body.light .app-header { background: linear-gradient(180deg, #f1f4f8, #e5e9ef); }
    .app-header h1 { margin: 0; font-size: 22px; font-weight: 700; }
    .app-header p { margin: 4px 0; font-size: 14px; color: var(--muted); }
    .app-header .team { font-weight: bold; color: var(--primary); margin-top: 4px; }

    /* ‚úÖ THEME TOGGLE */
    .theme-toggle { margin-top:12px; display:flex; justify-content:center; gap:6px; }
    .toggle-switch { position: relative; width: 42px; height: 22px; }
    .toggle-switch input { display:none; }
    .slider { position:absolute; inset:0; background:#ccc; border-radius:22px; transition:.3s; }
    .slider:before { content:""; position:absolute; left:3px; bottom:3px; width:16px; height:16px; background:white; border-radius:50%; transition:.3s; }
    input:checked + .slider { background: var(--primary); }
    input:checked + .slider:before { transform: translateX(20px); }

    /* ‚úÖ MAIN */
    .container { max-width: 950px; margin:auto; padding:16px; }
    .card { background: var(--card); border-radius:12px; padding:18px; margin:16px 0; box-shadow:0 2px 5px rgba(0,0,0,.2); }
    .card h2 { margin-top:0; font-size:18px; }
    input,textarea,select{ width:100%; margin-bottom:10px; padding:8px; border-radius:6px; border:1px solid #444; background:var(--card); color:var(--text); }
    body.light input,body.light textarea,body.light select{ background:#fff; color:#111; border:1px solid #ccc; }
    button { background:var(--primary); color:#fff; border:0; padding:10px 18px; border-radius:8px; font-weight:600; cursor:pointer; }
    button:hover{background:#0f5ad2}
    .danger{background:var(--red)}

    /* ‚úÖ Logs + Stats */
    .logs{ background:#000; color:#0f0; font-family:monospace; padding:12px; border-radius:8px; min-height:300px; max-height:500px; overflow-y:auto; font-size:14px; }
    #warnBox{color:#ff4444;background:#111}
    .badge{padding:6px 10px; border-radius:8px; background:#334155; color:#fff; font-weight:600}

    /* ‚úÖ Floating Log */
    #btnOpenFloatLog{ position:fixed; bottom:20px; right:20px; background:#2563eb; color:#fff; padding:12px 20px; border-radius:9999px; font-weight:600; border:0; z-index:9999; }
    #floatLog{ position:fixed; left:50%; top:50%; transform:translate(-50%,-50%); width:90vw; height:70vh; background:#111827; color:#fff; border:1px solid #333; border-radius:8px; display:none; z-index:99999; }
    #floatLogHeader{ display:flex; justify-content:space-between; align-items:center; padding:8px 12px; background:#1f2937; cursor:move; }
    #floatLogHeader button{ background:transparent; border:0; color:#fff; font-size:16px; margin-left:6px; cursor:pointer; }
    #floatLogContent{ padding:10px; height:calc(100% - 40px); overflow:auto; font-size:14px; background:#0b0f19; }
  </style>
</head>
<body class="dark">

<header class="app-header">
  <h1>‚ö° Facebook Auto Comment Tool ‚ö°</h1>
  <p>üë§ Author: <b>PRAVAS BERA</b> | üåç Version: <b>Pro</b> | üáÆüá≥ Country: <b>INDIA</b></p>
  <p class="team">üî• INDIAN DANGER OF BULLET TEAM üî•</p>
  <div class="theme-toggle">
    <span>üåô</span>
    <label class="toggle-switch"><input type="checkbox" id="themeToggle"><span class="slider"></span></label>
    <span>‚òÄÔ∏è</span>
  </div>
</header>

<main class="container">

  <!-- UserID -->
  <section class="card">
    <h2>Your UserID</h2>
    <div id="userIdBox" class="user-id-box">Loading...</div>
    <p>üìã Copy this UserID and send to Admin for approval.</p>
  </section>

  <!-- Upload -->
  <section class="card">
    <h2>Upload Files (Global)</h2>
    <form id="uploadForm" method="post" enctype="multipart/form-data">
      <label>Upload Tokens</label><input type="file" name="tokens" accept=".txt"/>
      <label>Upload Comments</label><input type="file" name="comments" accept=".txt"/>
      <label>Upload Post Links</label><input type="file" name="postlinks" accept=".txt"/>
      <label>Names Batch</label><textarea name="names"></textarea>
      <button type="submit">Upload</button>
    </form>
  </section>

  <!-- Manual posts -->
  <section class="card"><h2>Manual Post 1</h2><input name="postLinks1" placeholder="Link or ID"/><input type="file" name="tokens1"/><textarea name="names1"></textarea></section>
  <section class="card"><h2>Manual Post 2</h2><input name="postLinks2" placeholder="Link or ID"/><input type="file" name="tokens2"/><textarea name="names2"></textarea></section>
  <section class="card"><h2>Manual Post 3</h2><input name="postLinks3" placeholder="Link or ID"/><input type="file" name="tokens3"/><textarea name="names3"></textarea></section>
  <section class="card"><h2>Manual Post 4</h2><input name="postLinks4" placeholder="Link or ID"/><input type="file" name="tokens4"/><textarea name="names4"></textarea></section>

  <!-- Comment Settings -->
  <section class="card">
    <h2>Comment Settings</h2>
    <label>Comment Set</label>
    <select id="commentSet"><option value="">Default</option><option value="bengali">Bengali</option><option value="hinglish">Hinglish</option></select>
    <label>Limit</label><input id="limit" type="number"/>
    <label>Speed Mode</label>
    <label><input type="radio" name="speedMode" value="fast" checked> Fast</label>
    <label><input type="radio" name="speedMode" value="superfast"> Superfast</label>
    <label><input type="radio" name="speedMode" value="extreme"> Extreme</label>
    <label>Delay (sec)</label><input id="delay" type="number" value="20"/>
    <label><input type="checkbox" id="shuffle"> Shuffle comments</label>
    <div><button id="startBtn">‚ñ∂ Start</button> <button id="stopBtn" class="danger">‚ñ† Stop</button></div>
  </section>

  <!-- Advanced -->
  <section class="card">
    <h2>‚öôÔ∏è Advanced Settings</h2>
    <label>Round Jitter Max (ms)</label><input name="roundJitterMaxMs" type="number" value="80"/>
    <label>Token Cooldown (ms)</label><input name="tokenCooldownMs" type="number" value="10"/>
    <label>Quota Per Token/Hour</label><input name="quotaPerTokenHour" type="number" value="200"/>
    <label>Names Per Comment</label><input name="namesPerComment" type="number" value="1"/>
    <label>Limit Per Post</label><input name="limitPerPost" type="number" value="50"/>
    <label><input type="checkbox" name="removeBadTokens"> Remove Bad Tokens</label>
    <label>Blocked Backoff (ms)</label><input name="blockedBackoffMs" type="number" value="60000"/>
    <label>Request Timeout (ms)</label><input name="requestTimeoutMs" type="number" value="12000"/>
    <label>Retry Count</label><input name="retryCount" type="number" value="2"/>
    <label>SSE Batch (ms)</label><input name="sseBatchMs" type="number" value="600"/>
    <label><input type="checkbox" name="tokenGlobalRing"> Global Ring Mode</label>
  </section>

  <!-- Stats -->
  <section class="card"><h2>Stats</h2><span id="stTotal" class="badge">Sent:0</span> <span id="stOk" class="badge">OK:0</span> <span id="stFail" class="badge">Fail:0</span><table><tbody id="perPostBody"></tbody></table></section>

  <!-- Token Status -->
  <section class="card"><h2>Token Status</h2><div id="tokenList"></div></section>

  <!-- Logs -->
  <section class="card"><h2>Live Log</h2><div id="logBox" class="logs"></div></section>
  <section class="card"><h2>Warnings</h2><div id="warnBox" class="logs"></div></section>

</main>

<footer class="footer">¬©2025 BULLET TEAM</footer>

<!-- Floating Log -->
<button id="btnOpenFloatLog">üìú Logs</button>
<div id="floatLog"><div id="floatLogHeader">üìú Live Log<div><button id="minLog">‚àí</button><button id="maxLog">‚ñ¢</button><button id="closeLog">‚úñ</button></div></div><div id="floatLogContent"></div></div>

<script src="/script.js"></script>
<script>
  // theme toggle
  const toggle=document.getElementById("themeToggle"),body=document.body;
  if(localStorage.getItem("theme")==="light"){body.classList.add("light");toggle.checked=true;}
  toggle.addEventListener("change",()=>{if(toggle.checked){body.classList.add("light");localStorage.setItem("theme","light");}else{body.classList.remove("light");localStorage.setItem("theme","dark");}});
</script>
<script>
(()=>{const b=document.getElementById('btnOpenFloatLog'),p=document.getElementById('floatLog'),h=document.getElementById('floatLogHeader'),c=document.getElementById('floatLogContent'),min=document.getElementById('minLog'),max=document.getElementById('maxLog'),cls=document.getElementById('closeLog');if(!b)return;b.onclick=()=>{c.innerHTML=document.getElementById('logBox').innerHTML;p.style.display='block'};cls.onclick=()=>p.style.display='none';min.onclick=()=>{p.style.height='200px';p.style.width='400px'};let M=false;max.onclick=()=>{M=!M;if(M){p.style.left='2%';p.style.top='2%';p.style.width='96vw';p.style.height='90vh'}else{p.style.left='50%';p.style.top='50%';p.style.width='90vw';p.style.height='70vh';p.style.transform='translate(-50%,-50%)'}};let drag=false,sx,sy,l,t;h.onmousedown=e=>{drag=true;sx=e.clientX;sy=e.clientY;l=p.offsetLeft;t=p.offsetTop;document.onmousemove=e2=>{if(drag){p.style.left=(l+e2.clientX-sx)+'px';p.style.top=(t+e2.clientY-sy)+'px'}};document.onmouseup=()=>{drag=false;document.onmousemove=null}}})();
</script>
<script>
if('serviceWorker'in navigator){navigator.serviceWorker.register('/service-worker.js');}
</script>

</body>
</html>
